
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ml4ir - Machine Learning for Information Retrieval &#8212; ml4ir 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation/index.html" title="Installation"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">ml4ir 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="ml4ir-machine-learning-for-information-retrieval">
<h1>ml4ir - Machine Learning for Information Retrieval<a class="headerlink" href="#ml4ir-machine-learning-for-information-retrieval" title="Permalink to this headline">¶</a></h1>
<p>ml4ir is an open source library for training and deploying deep learning models for search applications. ml4ir is built on top of <strong>python3</strong> and <strong>tensorflow 2.x</strong> for training and evaluation. It also comes packaged with scala utilties for <strong>JVM inference</strong>.</p>
<p>ml4ir is designed as modular subcomponents which can easily be combined and customized to build a variety of search ML models such as:</p>
<ul class="simple">
<li><p>Learning to Rank</p></li>
<li><p>Query Auto Completion</p></li>
<li><p>Document Classification</p></li>
<li><p>Query Classification</p></li>
<li><p>Named Entity Recognition</p></li>
<li><p>Top Results</p></li>
<li><p>Query2SQL</p></li>
<li><p><em>add your application here</em></p></li>
</ul>
<img alt="_images/ml4ir.png" src="_images/ml4ir.png" />
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>Search is a complex data space with lots of different types of ML tasks working on a combination of structured and unstructured data sources. There is no single library that
* provides an end-to-end training and serving solution for a variety of search applications</p>
<ul class="simple">
<li><p>allows training of models with limited coding expertise</p></li>
<li><p>allows easy customization to build complex models to tackle a variety of problems in the search domain</p></li>
<li><p>focuses on performance, robustness and offline-online feature parity</p></li>
<li><p>enables fast prototyping</p></li>
</ul>
<p>So, we built ml4ir.</p>
</div>
<div class="section" id="guiding-principles">
<h2>Guiding Principles<a class="headerlink" href="#guiding-principles" title="Permalink to this headline">¶</a></h2>
<p><strong>Customizable Library</strong></p>
<p>First and foremost, we want ml4ir to be an easy-to-use and highly customizable library so that you can build the search application of your need. ml4ir allows each of its subcomponents to be over-riden, mixed and match with other custom modules to create and deploy models.</p>
<p><strong>Configurable Toolkit</strong></p>
<p>While ml4ir can be used a library, it also comes pre-packaged with all the popular search based losses, metrics, embeddings, layers, etc. to enable someone with limited tensorflow expertise to quickly load their training data and train models for the task of interest. ml4ir achieves this by following a hybrid approach which allow for each subcomponent to be completely controlled through configurations alone. Most search based ML applications can be built this way.</p>
<p><strong>Performance First</strong></p>
<p>ml4ir is built using the TFRecord data pipeline, which is the recommended data format for tensorflow data loading. We combine ml4ir’s high configurability with out of the box tensorflow data optimization utilities to define model features and build a data pipeline that easily allows training on huge amounts of data. ml4ir also comes packaged with utilities to convert data from CSV and libsvm format to TFRecord.</p>
<p><strong>Training-Serving Handshake</strong></p>
<p>As ml4ir is a common library for training and serving deep learning models, this allows us to build tight integration and fault tolerance into the models that are trained. ml4ir also uses the same configuration files for both training and inference keeping the end-to-end handshake clean. This allows user’s to easily plug in any feature store(or solr) into ml4ir’s serving utilities to deploy models in one’s production environments.</p>
<p><strong>Search Model Hub</strong></p>
<p>The goal of ml4ir is to form a common hub for the most popular deep learning layers, losses, metrics, embeddings used in the search domain. We’ve built ml4ir with a focus on quick prototyping with wide variety of network architectures and optimizations. We encourage contributors to add to ml4ir’s arsenal of search deep learning utilities as we continue to do so ourselves.</p>
</div>
<div class="section" id="contents">
<h2>Contents<a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation/index.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html#using-ml4ir-as-a-library">Using ml4ir as a library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation/index.html#requirements">Requirements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html#using-ml4ir-as-a-toolkit-or-contributing-to-ml4ir">Using ml4ir as a toolkit or contributing to ml4ir</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation/index.html#docker-recommended">Docker (Recommended)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation/index.html#id1">Requirements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="installation/index.html#virtual-environment">Virtual Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="installation/index.html#id2">Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation/index.html#running-tests">Running Tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart/index.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart/script.html">Using ml4ir as a toolkit</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart/script.html#contents">Contents</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart/script.html#pipelines">Pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart/script.html#learning-to-rank">Learning to Rank</a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/script.html#query-classification">Query Classification</a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/script.html#custom-pipeline">Custom Pipeline</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quickstart/script.html#command-line-arguments">Command Line Arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="quickstart/script.html#usage-examples">Usage Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quickstart/script.html#id1">Learning to Rank</a></li>
<li class="toctree-l4"><a class="reference internal" href="quickstart/script.html#id2">Query Classification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/script.html#classification">Classification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quickstart/script.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/library.html">Understanding ml4ir’s subcomponent architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/feature_config.html">FeatureConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/model_config.html">ModelConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/dataset.html">RelevanceDataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/saving.html">Saving</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart/serving.html">JVM Inference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced/index.html">Advanced Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced/preprocessing.html">Using custom preprocessing functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced/feature_layer.html">Using custom feature transformation functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced/transfer_learning.html">Transfer Learning with ml4ir</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/index.html#contents">Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/pipeline.html">Pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/pipeline.html#relevancepipeline">RelevancePipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/pipeline.html#rankingpipeline">RankingPipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/pipeline.html#classificationpipeline">ClassificationPipeline</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/relevance_dataset.html">Data Loaders and Helpers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_dataset.html#relevancedataset">RelevanceDataset</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_dataset.html#module-ml4ir.base.data.tfrecord_reader">tfrecord_reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_dataset.html#module-ml4ir.base.data.csv_reader">csv_reader</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_dataset.html#module-ml4ir.base.data.tfrecord_writer">tfrecord_writer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/relevance_model.html">Relevance Models</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_model.html#relevancemodel">RelevanceModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/relevance_model.html#module-ml4ir.applications.ranking.model.ranking_model.RankingModel">RankingModel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/feature_config.html">Feature Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/feature_config.html#featureconfig">FeatureConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/feature_config.html#examplefeatureconfig">ExampleFeatureConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/feature_config.html#sequenceexamplefeatureconfig">SequenceExampleFeatureConfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/losses.html">Losses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/losses.html#relevancelossbase">RelevanceLossBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/losses.html#sigmoidcrossentropy">SigmoidCrossEntropy</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/losses.html#rankonelistnet">RankOneListNet</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/losses.html#categoricalcrossentropy">CategoricalCrossEntropy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/metrics.html">Metrics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/metrics.html#meanreciprocalrank">MeanReciprocalRank</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/metrics.html#averageclickrank">AverageClickRank</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/metrics.html#categoricalaccuracy">CategoricalAccuracy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/feature_processing.html">Feature Processing</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/feature_layer.html">Feature Transformation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/feature_layer.html#module-ml4ir.base.features.feature_fns.categorical">Categorical Feature Transformations</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/feature_layer.html#module-ml4ir.base.features.feature_fns.categorical">Sequence Feature Transformations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/interaction_model.html">Interaction Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/interaction_model.html#interactionmodel">InteractionModel</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/interaction_model.html#univariateinteractionmodel">UnivariateInteractionModel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/scorer.html">Scorer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/scorer.html#scorerbase">ScorerBase</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/scorer.html#relevancescorer">RelevanceScorer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/file_io.html">File I/O Utilities</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/file_io.html#fileio">FileIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/file_io.html#localio">LocalIO</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/file_io.html#sparkio">SparkIO</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="misc/license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc/contact.html">Contact Us</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ml4ir - Machine Learning for Information Retrieval</a><ul>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#guiding-principles">Guiding Principles</a></li>
<li><a class="reference internal" href="#contents">Contents</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="installation/index.html"
                        title="next chapter">Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="installation/index.html" title="Installation"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">ml4ir 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Search Relevance (Salesforce.com, Inc.).
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.1.
    </div>
  </body>
</html>